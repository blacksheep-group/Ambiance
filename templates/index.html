<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='style.css')}}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='assets/pup-logo.svg') }}">
    <script type="text/javascript" src="{{url_for('static', filename='script.js')}}" defer></script>
    <script type="text/javascript" src="{{url_for('static', filename='scripts/timedate.js')}}"></script>
    <title>Ambiance</title>
</head>
</head>
<body>
    <header>
        <div id= "timedate" class="date">{{ lol }}</div>
        <div class="title">AMBIANCE</div>
        <div class="settings"> 
            <div>PUP MAIN  |</div>
            <img src="{{ url_for('static', filename='assets/settings.svg') }}">
        </div>      
    </header>
    <main>  
        <div class="error-message">{{ exception }}</div>  
        <div class="content-container">
            <div class="sensor-container">
                <div class="sensor-data">
                        <img src="{{ url_for('static', filename='assets/temperature.svg') }}">
                        <div class="data-container">
                            <div class="data-label">TEMPERATURE</div> 
                            <div class="data-point">{{ temperature }}</div>
                            <div class="data-update">Last Updated: Now</div>
                        </div>
                </div>
                <div class="sensor-data">
                        <img src="{{ url_for('static', filename='assets/pressure.svg') }}">
                        <div class="data-container">
                            <div class= "data-label">PRESSURE</div> 
                            <div class= "data-point">{{ pressure }}</div>
                            <div class="data-update">Last Updated: Now</div>
                        </div>
                </div>
                <div class="sensor-data">
                        <img src="{{ url_for('static', filename='assets/humidity.svg') }}">
                        <div class="data-container">
                            <div class="data-label">HUMIDITY</div>
                            <div class="data-point">{{ humidity }}</div>
                            <div class="data-update">Last Updated: Now</div>
                        </div>
                </div>
                <div class="sensor-data">
                        <img src="{{ url_for('static', filename='assets/gas.svg') }}">
                        <div class="data-container">
                            <div class="data-label">CARBON EMISSIONS</div>
                            <div class="data-point">{{ gas }}</div>
                            <div class="data-update">Last Updated: Now</div>
                        </div>
                </div>
                <div class="sensor-data">
                        <img src="{{ url_for('static', filename='assets/altitude.svg') }}">
                            <div class="data-label">ALTITUDE</div>
                            <div class="data-point">{{ altitude }}</div>
                            <div class="data-update">Last Updated: Now</div>
                </div>
                <div class="sensor-data">
                        <img src="{{ url_for('static', filename='assets/TVOC.svg') }}">
                            <div class="data-label">TVOC</div>
                            <div class="data-point">{{ tvoc }}</div>
                            <div class="data-update">Last Updated: Now</div>
                </div>
                <div class="sensor-data">
                        <img src="{{ url_for('static', filename='assets/eCO2.svg') }}">
                            <div class="data-label">ECO2</div>
                            <div class="data-point">{{ eco2 }}</div>
                            <div class="data-update">Last Updated: Now</div>
                </div>
                <div class="sensor-data">
                        <img src="{{ url_for('static', filename='assets/raw_H2.svg') }}">
                            <div class="data-label">RAW_H2</div>
                            <div class="data-point">{{ raw_h2 }}</div>
                            <div class="data-update">Last Updated: Now</div>
                </div>
                <div class="sensor-data">
                        <img src="{{ url_for('static', filename='assets/raw_Ethanol.svg') }}">
                            <div class="data-label">RAW_ETHANOL</div>
                            <div class="data-point">{{ raw_ethanol }}</div>
                            <div class="data-update">Last Updated: Now</div>
                </div>                 
            </div>
            <div class="meter-container">
                <img src="{{ url_for('static', filename='assets/pup-logo.svg') }}">
            </div>
        </div>

        <!-- HINDI NAGANA EXTERNAL SCRIPTS IDK WHY -->
        <script>
            function formatTimeDate(timedate) {
                const year = timedate.getFullYear();
                const monthNames = [
                    "JANUARY", "FEBRUARY", "MARCH", "APRIL", "MAY", "JUNE",
                    "JULY", "AUGUST", "SEPTEMBER", "OCTOBER", "NOVEMBER", "DECEMBER"
                ];
                const month = monthNames[timedate.getMonth()];
                const day = String(timedate.getDate());
                let hours = timedate.getHours();
                const minutes = String(timedate.getMinutes());
                const seconds = String(timedate.getSeconds());
                let ampm = "AM";
                if (hours >= 12) {
                    ampm = "PM";
                    hours %= 12;
                }
                if (hours === 0) {
                    hours = 12; 
                }
      
                return `${hours}:${minutes}:${seconds} ${ampm} | ${month} ${day} ${year}`;
            }
      
              function updateTimeDate() {
                  const now = new Date();
                  const formattedTimeDate = formatTimeDate(now);
                  document.getElementById("timedate").textContent = formattedTimeDate;
              }
      
              updateTimeDate();
              setInterval(updateTimeDate, 1000);
          </script>
    </main>
    <footer>
    </footer>
</body>
</html>
